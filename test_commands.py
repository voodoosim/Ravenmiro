#!/usr/bin/env python3
"""
í†µí•© ëª…ë ¹ì–´ í…ŒìŠ¤íŠ¸ - ê° ëª…ë ¹ì–´ì˜ ë™ì‘ ê²€ì¦
"""

import sys
from pathlib import Path

# Fix Windows Unicode
if sys.platform == 'win32' and hasattr(sys.stdout, 'reconfigure'):
    sys.stdout.reconfigure(encoding='utf-8')  # type: ignore

# Add parent directory to path
sys.path.insert(0, str(Path(__file__).parent))

from bot.config import Config


def test_commands():
    """ê° ëª…ë ¹ì–´ ë™ì‘ ê²€ì¦"""
    print("=" * 70)
    print("CROWBOT ëª…ë ¹ì–´ ì²´ê³„ ê²€ì¦")
    print("=" * 70)
    
    config = Config()
    
    # ì„¤ì • í™•ì¸
    print("\nğŸ“‹ í˜„ì¬ ì„¤ì •:")
    print(f"  â€¢ ë¯¸ëŸ¬ë§: {'âœ… í™œì„±í™”' if config.get_option('mirror_enabled') else 'âŒ ë¹„í™œì„±í™”'}")
    print(f"  â€¢ ì†ŒìŠ¤: {config.get_source_channel() or 'ì„¤ì • ì•ˆë¨'}")
    print(f"  â€¢ íƒ€ê²Ÿ: {config.get_target_channels() or 'ì„¤ì • ì•ˆë¨'}")
    
    print("\n" + "=" * 70)
    print("ëª…ë ¹ì–´ ì„¤ëª…:")
    print("=" * 70)
    
    commands = [
        {
            "cmd": ".ì„¤ì •",
            "desc": "ì„¤ì • ë©”ë‰´ ì—´ê¸°",
            "action": "1. ì…ë ¥(ì†ŒìŠ¤) ì„¤ì •\n2. ì¶œë ¥(íƒ€ê²Ÿ) ì„¤ì •\n3. ë¡œê·¸ ì„¤ì •\n4. ë¯¸ëŸ¬ë§ í† ê¸€"
        },
        {
            "cmd": ".ë™ê¸°í™”",
            "desc": "ì±„ë„ ì™„ì „ ë³µì œ",
            "action": "ì†ŒìŠ¤ ì„ íƒ â†’ íƒ€ê²Ÿ ì„ íƒ â†’ ì „ì²´ íˆìŠ¤í† ë¦¬ ë³µì‚¬\nâš ï¸ íƒ€ê²Ÿ ì±„ë„ ë‚´ìš©ì´ ì†ŒìŠ¤ë¡œ êµì²´ë¨"
        },
        {
            "cmd": ".ì¹´í”¼",
            "desc": "ì„ íƒì  ë³µì‚¬",
            "action": "ì‹œì‘ ì§€ì  ë¬¼ì–´ë´„:\nâ€¢ ë§í¬ ì…ë ¥ â†’ í•´ë‹¹ ë©”ì‹œì§€ë¶€í„°\nâ€¢ Enter â†’ ì²˜ìŒë¶€í„°"
        },
        {
            "cmd": ".ì¹´ì¹´ì‹œ",
            "desc": "ì¦‰ì‹œ ì „ì²´ ë³µì‚¬",
            "action": "ë¬»ì§€ ì•Šê³  ë°”ë¡œ ì²˜ìŒë¶€í„° ë³µì‚¬ ì‹œì‘\nğŸ¥· ë¹ ë¥¸ ì‹¤í–‰"
        },
        {
            "cmd": ".ì •ì§€",
            "desc": "ì‘ì—… ì¤‘ë‹¨",
            "action": "ì§„í–‰ ì¤‘ì¸ ëª¨ë“  ë³µì‚¬ ì‘ì—… ì¦‰ì‹œ ì¤‘ë‹¨"
        }
    ]
    
    for cmd in commands:
        print(f"\nğŸ”¹ {cmd['cmd']}")
        print(f"   ì„¤ëª…: {cmd['desc']}")
        print(f"   ë™ì‘: {cmd['action']}")
    
    print("\n" + "=" * 70)
    print("ğŸ” ëª…ë ¹ì–´ ì°¨ì´ì :")
    print("=" * 70)
    
    print("""
ğŸ“Œ .ë™ê¸°í™” vs .ì¹´í”¼ vs .ì¹´ì¹´ì‹œ

.ë™ê¸°í™” - ì±„ë„ì„ ì™„ì „íˆ ë˜‘ê°™ì´ ë§Œë“¤ê¸°
  â€¢ íƒ€ê²Ÿ ì±„ë„ ê²½ê³  í‘œì‹œ
  â€¢ ì „ì²´ íˆìŠ¤í† ë¦¬ ë³µì‚¬
  â€¢ ì±„ë„ ë³µì œìš©

.ì¹´í”¼ - ìœ ì—°í•œ ë³µì‚¬
  â€¢ ì‹œì‘ ì§€ì  ì„ íƒ ê°€ëŠ¥
  â€¢ ë§í¬ë¡œ íŠ¹ì • ë©”ì‹œì§€ë¶€í„° ì‹œì‘
  â€¢ ì„ íƒì  ë³µì‚¬ìš©

.ì¹´ì¹´ì‹œ - ë¹ ë¥¸ ë³µì‚¬
  â€¢ ë¬»ì§€ ì•Šê³  ì¦‰ì‹œ ì‹œì‘
  â€¢ ì²˜ìŒë¶€í„° ëê¹Œì§€ ë³µì‚¬
  â€¢ ë¹ ë¥¸ ì‹¤í–‰ìš©
""")
    
    # ë²„ê·¸ ìˆ˜ì • í™•ì¸
    print("\n" + "=" * 70)
    print("âœ… ìˆ˜ì •ëœ ë²„ê·¸:")
    print("=" * 70)
    print("â€¢ .ì¹´ì¹´ì‹œê°€ ìµœê·¼ 100ê°œë§Œ ë³µì‚¬í•˜ë˜ ë²„ê·¸ â†’ ì „ì²´ ë³µì‚¬ë¡œ ìˆ˜ì •")
    print("â€¢ ë‹¤ì¤‘ íƒ€ê²Ÿ ì§€ì› ì¶”ê°€")
    print("â€¢ bare except ì œê±°")
    print("â€¢ íƒ€ì… íŒíŠ¸ í˜„ëŒ€í™” (Optional â†’ X | None)")
    
    print("\n" + "=" * 70)
    print("ğŸš€ ë´‡ ì‹¤í–‰:")
    print("=" * 70)
    print("python bot/main.py")
    print("\ní…”ë ˆê·¸ë¨ì—ì„œ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì—¬ ì‚¬ìš©í•˜ì„¸ìš”!")
    print("=" * 70)


if __name__ == "__main__":
    test_commands()